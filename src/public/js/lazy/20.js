webpackJsonp([20],{"24xu":function(e,t,i){var o=i("VU/8")(i("ZDpC"),i("kx3H"),!1,function(e){i("ULF8")},"data-v-b9877ab0",null);e.exports=o.exports},F3bE:function(e,t,i){(e.exports=i("FZ+f")(!1)).push([e.i,"\n#emailLogin[data-v-b9877ab0],#pwdLogin[data-v-b9877ab0]{outline:none\n}",""])},ULF8:function(e,t,i){var o=i("F3bE");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);i("rjj0")("6bbc2d69",o,!0,{})},ZDpC:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={mounted:function(){this.myBrowser(),$("#formCon").get(0).style.minHeight=window.innerHeight-30+"px",$("#formCon").get(0).style.height=$("#login").height()+10+"px",window.onresize=function(){$("#formCon").get(0).style.minHeight=window.innerHeight-30+"px"},"remember"===this.$cookies.get("loginStatus")?(this.$cookies.get("email")?this.loginForm.email=this.$cookies.get("email"):this.loginForm.email="",this.$cookies.get("tp")?this.loginForm.password=Base64.decode(this.$cookies.get("tp")):this.loginForm.password=""):(this.$cookies.remove("Authorization"),this.$cookies.remove("permissionvue"),this.$cookies.get("email")?this.loginForm.email=this.$cookies.get("email"):this.loginForm.email="")},data:function(){return{submitDisabled:!1,loginForm:{email:"",password:"",status:"remember"}}},methods:{help:function(){window.open("/help/index.html","_blank")},myBrowser:function(){var e=navigator.userAgent,t=e.indexOf("Opera")>-1,i=e.indexOf("Edge")>-1,o=e.indexOf("Firefox")>-1,s=e.indexOf("Safari")>-1&&-1==e.indexOf("Chrome"),a=e.indexOf("Chrome")>-1&&e.indexOf("Safari")>-1;t?this.$message({message:"Your browser may have incompatiblity issues with Trantrace. Please update to latest stable version of Google Chrome (>=70), Firefox (>=67), Safari (>=12), Edge (>=18), IE (>=11).",type:"warning",duration:6e3}):i?e.match(/Edge\/([\d.]+)/)[1].split(".")[0]<18&&this.$message({message:"Your browser may have incompatiblity issues with Trantrace. Please update to latest stable version of Google Chrome (>=70), Firefox (>=67), Safari (>=12), Edge (>=18), IE (>=11).",type:"warning",duration:6e3}):o?e.match(/Firefox\/([\d.]+)/)[1].split(".")[0]<67&&this.$message({message:"Your browser may have incompatiblity issues with Trantrace. Please update to latest stable version of Google Chrome (>=70), Firefox (>=67), Safari (>=12), Edge (>=18), IE (>=11).",type:"warning",duration:6e3}):s?e.match(/Safari\/([\d.]+)/)[1].split(".")[0]<12&&this.$message({message:"Your browser may have incompatiblity issues with Trantrace. Please update to latest stable version of Google Chrome (>=70), Firefox (>=67), Safari (>=12), Edge (>=18), IE (>=11).",type:"warning",duration:6e3}):a?(e.match(/Chrome\/([\d.]+)/)||e.match(/CriOS\/([\d.]+)/))[1].split(".")[0]<70&&this.$message({message:"Your browser may have incompatiblity issues with Trantrace. Please update to latest stable version of Google Chrome (>=70), Firefox (>=67), Safari (>=12), Edge (>=18), IE (>=11).",type:"warning",duration:6e3}):window.navigator.userAgent.indexOf("MSIE")>=1?this.$message({message:"Your browser may have incompatiblity issues with Trantrace. Please update to latest stable version of Google Chrome (>=70), Firefox (>=67), Safari (>=12), Edge (>=18), IE (>=11).",type:"warning",duration:6e3}):window.ActiveXObject||"ActiveXObject"in window||this.$message({message:"Your browser may have incompatiblity issues with Trantrace. Please update to latest stable version of Google Chrome (>=70), Firefox (>=67), Safari (>=12), Edge (>=18), IE (>=11).",type:"warning",duration:6e3})},onSubmit:function(e){var t=this;e.preventDefault(),this.submitDisabled=!0,this.$http.post("/api/login",qs.stringify(this.loginForm)).then(function(e){e.data.success&&("remember"===t.loginForm.status?(t.$cookies.set("Authorization","Bearer "+e.data.success.token,43200),t.$cookies.set("email",t.loginForm.email,43200),t.$cookies.set("tname",Base64.encode(e.data.success.name),43200),t.$cookies.set("tp",Base64.encode(t.loginForm.password),43200),t.$cookies.set("loginStatus",t.loginForm.status,43200),t.$cookies.set("role",Base64.encode(e.data.success.role),43200),t.$cookies.set("id",Base64.encode(e.data.success.id),43200)):(t.$cookies.set("email",t.loginForm.email,43200),t.$cookies.set("tname",Base64.encode(e.data.success.name),43200),t.$cookies.set("Authorization","Bearer "+e.data.success.token,43200),t.$cookies.set("role",Base64.encode(e.data.success.role),43200),t.$cookies.set("id",Base64.encode(e.data.success.id),43200),t.$cookies.remove("tp"),t.$cookies.get("loginStatus")&&t.$cookies.remove("loginStatus")),t.$nextTick(function(){t.$http.defaults.headers.common.Authorization=t.$cookies.get("Authorization")||""}),2==e.data.success.role?t.$router.push("/userinfo"):t.$router.push("/dashboard")),t.submitDisabled=!1}).catch(function(e){t.submitDisabled=!1})},onReset:function(e){e.preventDefault(),this.loginForm.email="",this.loginForm.password=""}}}},kx3H:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"login"}},[i("div",{attrs:{id:"formCon"}},[i("b-form",{attrs:{id:"loginForm"},on:{submit:e.onSubmit,reset:e.onReset}},[i("b-form-group",{staticStyle:{position:"relative"}},[i("b-link",[i("img",{attrs:{src:"/images/logo.png",title:"Trantrace",height:"50",width:"180",alt:"Trantrace Logo"}})]),e._v(" "),i("div",{staticClass:"modeTitle"},[e._v("Sign In")]),e._v(" "),i("div",{staticStyle:{position:"absolute",top:"-40px",right:"-40px"}},[i("el-button",{staticStyle:{padding:"5px","font-size":"16px",color:"#e6a23c"},attrs:{size:"small",type:"text",plain:""},nativeOn:{click:function(t){return e.help(t)}}},[i("i",{staticClass:"el-icon-question"},[e._v("Help")])])],1)],1),e._v(" "),i("b-form-group",{attrs:{label:"Email:","label-for":"emailLogin"}},[i("b-form-input",{attrs:{id:"emailLogin",required:"",oninvalid:"setCustomValidity('Email is required.');",oninput:"setCustomValidity('');",placeholder:"enter email",title:"Email is required."},model:{value:e.loginForm.email,callback:function(t){e.$set(e.loginForm,"email","string"==typeof t?t.trim():t)},expression:"loginForm.email"}})],1),e._v(" "),i("b-form-group",{attrs:{label:"Password:","label-for":"pwdLogin"}},[i("b-form-input",{attrs:{id:"pwdLogin",type:"password",required:"",oninvalid:"setCustomValidity('Password is required.');",oninput:"setCustomValidity('');",placeholder:"enter password",title:"Password is required."},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password","string"==typeof t?t.trim():t)},expression:"loginForm.password"}})],1),e._v(" "),i("b-form-group",[i("b-form-checkbox",{staticClass:"rememberStatus",attrs:{plain:"",id:"remembercheckbox",value:"remember","unchecked-value":"forget"},model:{value:e.loginForm.status,callback:function(t){e.$set(e.loginForm,"status","string"==typeof t?t.trim():t)},expression:"loginForm.status"}},[e._v("\n          Remember\n        ")]),e._v(" "),i("div",{staticClass:"formLink"},[i("b-link",{on:{click:function(t){t.preventDefault(),e.$router.push("/register")}}},[e._v("Sign Up")]),i("b-link",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.focus",modifiers:{focus:!0}}],attrs:{title:"Please contact administrator to reset your password."}},[e._v("Forgot password?")])],1)],1),e._v(" "),i("b-form-group",[i("b-button",{staticClass:"submitBtn",attrs:{type:"submit",variant:"info",disabled:e.submitDisabled}},[e._v("Sign In")]),e._v(" "),i("b-button",{staticClass:"resetBtn",attrs:{type:"reset"}},[e._v("Reset")])],1)],1)],1),e._v(" "),i("footer",[i("div",{staticClass:"sectionCenter"},[e._v("Copyright "+e._s((new Date).getFullYear()))])])])},staticRenderFns:[]}}});