webpackJsonp([21],{"+sCN":function(e,t,s){var o=s("BJ/W");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);s("rjj0")("05308900",o,!0,{})},"8EjM":function(e,t,s){var o=s("VU/8")(s("I9tT"),s("Vv8N"),!1,function(e){s("+sCN")},"data-v-520d153c",null);e.exports=o.exports},"BJ/W":function(e,t,s){(e.exports=s("FZ+f")(!1)).push([e.i,"",""])},I9tT:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={mounted:function(){var e=this,t=location.hash.split("/")[1];t.split("?")&&(t=t.split("?")[0]),this.selectMenu(t);var s=$(window).innerHeight(),o=parseInt($("#header").outerHeight());$("#asideUl").css("minHeight",s-o+"px"),window.onresize=function(){var e=$(window).innerHeight(),t=parseInt($("#header").outerHeight());$("#asideUl").css("minHeight",e-t+"px")},"2"!==this.role&&(this.myMessage(),this.$taskListTimer=setInterval(function(){e.myMessage()},6e4))},beforeDestroy:function(){clearInterval(this.$taskListTimer)},data:function(){var e=this;return{role:Base64.decode(this.$cookies.get("role")),loginName:Base64.decode(this.$cookies.get("tname")),exitModal:!1,asidedefaultOpened:["projectManagement","translationManagement","reviewManagement","viewManagement"],taskVisibleFlag:!1,myProfileOuterVisible:!1,innerVisible:!1,personalInfo:{name:"",email:""},personalInfoRules:{email:[{required:!0,trigger:"blur"}],name:[{required:!0,trigger:"blur"}]},modifyPasswordForm:{oldPass:"",newPass:"",checkPass:""},passwordRules:{oldPass:[{required:!0,trigger:"blur",message:"Old password is required."}],newPass:[{required:!0,trigger:"blur",message:"New password is required."},{validator:function(t,s,o){""!=s&&(e.modifyPasswordForm.newPass.length<6?o(new Error("Password length cannot be less than 6.")):""!==e.modifyPasswordForm.checkPass&&e.$refs.modifyPasswordForm.validateField("checkPass"),o())},trigger:"blur"}],checkPass:[{required:!0,trigger:"blur",message:"New password is required."},{validator:function(t,s,o){s!==e.modifyPasswordForm.newPass?o(new Error("The new password you typed twice do not match.")):o()},trigger:"blur"}]}}},computed:{newTaskSum:function(){return this.$store.state.taskList.Unassigned_nums+this.$store.state.taskList.Conflict_nums+this.$store.state.taskList.Untranslated_nums+this.$store.state.taskList.Unretranslated_nums+this.$store.state.taskList.Approve_nums}},watch:{"$route.path":{handler:function(e,t){this.selectMenu(e.split("/")[1])},deep:!0},"$store.state.taskList":{handler:function(e,t){},deep:!0}},methods:{myMessage:function(){var e=this;this.$http.post("/api/Statistic/Accout_task_nums").then(function(t){e.$store.state.taskList=t.data.result,t.data.result.Unassigned_nums+t.data.result.Conflict_nums+t.data.result.Untranslated_nums+t.data.result.Unretranslated_nums+t.data.result.Approve_nums!==0&&e.$message.info({customClass:"intervalNotifyWidth",dangerouslyUseHTMLString:!0,message:'<div>\n                <span style="display:inline-block;min-width:48%;">Unassigned: <b>'+t.data.result.Unassigned_nums+'</b>;</span>\n                <span style="display:inline-block;min-width:48%;">Untranslated: <b>'+t.data.result.Untranslated_nums+'</b>;</span>\n                <span style="display:inline-block;min-width:48%;">Unretranslated: <b>'+t.data.result.Unretranslated_nums+'</b>;</span>\n                <span style="display:inline-block;min-width:48%;">Unreviewed: <b>'+t.data.result.Approve_nums+'</b>;</span>\n                <span style="display:inline-block;min-width:48%;">Unresolved: <b>'+t.data.result.Conflict_nums+"</b>;</span>\n            </div>"})})},myDetail:function(){this.personalInfo.name=Base64.decode(this.$cookies.get("tname")),this.personalInfo.email=this.$cookies.get("email"),this.myProfileOuterVisible=!0},submitPassForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;t.$http.post("/api/changepwd",qs.stringify({oldpassword:t.modifyPasswordForm.oldPass,newpassword:t.modifyPasswordForm.newPass})).then(function(e){e.data.success&&(t.innerVisible=!1,t.modifyPasswordForm.oldPass="",t.modifyPasswordForm.newPass="",t.modifyPasswordForm.checkPass="",t.$router.push("/login"),t.$cookies.remove("pwd"))})})},resetPassForm:function(e){this.$refs[e].resetFields()},help:function(){window.open("/help/index.html","_blank")},logOut:function(){var e=this;this.$confirm("Are you sure to sign out?",{title:"Sign Out",confirmButtonText:"Yes",cancelButtonText:"Cancel",type:"warning",showClose:!1}).then(function(){e.$http.post("/api/logout").then(function(t){t.data.success&&(e.$cookies.get("Authorization")&&e.$cookies.remove("Authorization"),e.$cookies.get("role")&&e.$cookies.remove("role"),e.$cookies.get("tname")&&e.$cookies.remove("tname"),e.$cookies.get("id")&&e.$cookies.remove("id"),!e.$cookies.get("loginStatus")&&e.$cookies.get("tp")&&e.$cookies.remove("tp"),e.$router.push("/login"))})})},selectMenu:function(e){switch(window.scrollTo(0,0),e){case"dashboard":$(".el-menu-vertical-demo .el-menu-item").each(function(e,t){0!=e?$(t).css({color:"#fff"}).children().css("color","#fff"):$(t).css({color:"#ffd04b"}).children().css("color","#ffd04b")});break;case"projectlist":case"addproject":case"projectdetail":$(".el-menu-vertical-demo .el-menu-item").each(function(e,t){1!=e?$(t).css({color:"#fff"}).children().css("color","#fff"):$(t).css({color:"#ffd04b"}).children().css("color","#ffd04b")});break;case"assignment":$(".el-menu-vertical-demo .el-menu-item").each(function(e,t){2!=e?$(t).css({color:"#fff"}).children().css("color","#fff"):$(t).css({color:"#ffd04b"}).children().css("color","#ffd04b")});break;case"t_overview":this.$router.push("/t_overview"),$(".el-menu-vertical-demo .el-menu-item").each(function(e,t){3!=e?$(t).css({color:"#fff"}).children().css("color","#fff"):$(t).css({color:"#ffd04b"}).children().css("color","#ffd04b")});break;case"translation":case"ontrans":$(".el-menu-vertical-demo .el-menu-item").each(function(e,t){4!=e?$(t).css({color:"#fff"}).children().css("color","#fff"):$(t).css({color:"#ffd04b"}).children().css("color","#ffd04b")});break;case"retranslation":case"retrans":$(".el-menu-vertical-demo .el-menu-item").each(function(e,t){5!=e?$(t).css({color:"#fff"}).children().css("color","#fff"):$(t).css({color:"#ffd04b"}).children().css("color","#ffd04b")});break;case"t_history":case"t_browhistoryitem":$(".el-menu-vertical-demo .el-menu-item").each(function(e,t){6!=e?$(t).css({color:"#fff"}).children().css("color","#fff"):$(t).css({color:"#ffd04b"}).children().css("color","#ffd04b")});break;case"a_overview":this.$router.push("/a_overview"),$(".el-menu-vertical-demo .el-menu-item").each(function(e,t){7!=e?$(t).css({color:"#fff"}).children().css("color","#fff"):$(t).css({color:"#ffd04b"}).children().css("color","#ffd04b")});break;case"review":case"browreviewitem":$(".el-menu-vertical-demo .el-menu-item").each(function(e,t){8!=e?$(t).css("color","#fff").children().css("color","#fff"):$(t).css("color","#ffd04b").children().css("color","#ffd04b")});break;case"a_history":case"a_browhistoryitem":$(".el-menu-vertical-demo .el-menu-item").each(function(e,t){9!=e?$(t).css("color","#fff").children().css("color","#fff"):$(t).css("color","#ffd04b").children().css("color","#ffd04b")});break;case"viewlist":case"viewentry":case"viewdetail":$(".el-menu-vertical-demo .el-menu-item").each(function(e,t){10!=e?$(t).css("color","#fff").children().css("color","#fff"):$(t).css("color","#ffd04b").children().css("color","#ffd04b")});break;case"v_history":case"v_browhistoryitem":$(".el-menu-vertical-demo .el-menu-item").each(function(e,t){11!=e?$(t).css("color","#fff").children().css("color","#fff"):$(t).css("color","#ffd04b").children().css("color","#ffd04b")});break;case"userinfo":case"adduser":case"edituser":$(".el-menu-vertical-demo .el-menu-item").each(function(e,t){0!=e?$(t).css("color","#fff").children().css("color","#fff"):$(t).css("color","#ffd04b").children().css("color","#ffd04b")})}}}}},Vv8N:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-container",[s("el-header",{attrs:{height:"60px",id:"header"}},[s("div",{staticClass:"homeLogo"},[s("img",{staticStyle:{cursor:"pointer"},attrs:{src:"/images/logo.png",alt:"Trantrace Logo",title:"Trantrace"},on:{click:function(t){"2"==e.role?e.selectMenu("userinfo"):e.selectMenu("dashboard")}}})]),e._v(" "),s("div",{staticClass:"homeLogin"},[s("el-dropdown",{attrs:{trigger:"click"}},[s("span",{staticClass:"el-dropdown-link"},[s("span",{staticStyle:{display:"inline-block","max-width":"300px",overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis","vertical-align":"middle"}},[e._v(e._s(e.loginName))]),e._v(" "),s("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e._v(" "),s("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[s("el-dropdown-item",[s("div",{attrs:{size:"small"},on:{click:e.myDetail}},[e._v("Profile")])]),e._v(" "),s("el-dropdown-item",{nativeOn:{click:function(t){return e.logOut(t)}}},[e._v("Sign Out")])],1)],1),e._v(" "),s("el-button",{staticStyle:{padding:"5px","font-size":"16px",color:"#e6a23c"},attrs:{size:"small",type:"text",plain:""},nativeOn:{click:function(t){return e.help(t)}}},[s("i",{staticClass:"el-icon-question"},[e._v("Help")])])],1)]),e._v(" "),s("el-container",{attrs:{id:"back_section"}},[s("el-aside",{attrs:{width:"220px"}},[s("el-row",{staticClass:"tac"},[s("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{id:"asideUl",height:"700px",router:"","background-color":"#41babc","text-color":"#fff","active-text-color":"#ffd04b","default-openeds":e.asidedefaultOpened}},["1"==e.role?s("el-menu-item",{attrs:{index:"dashboard",route:{path:"/dashboard",query:{tab:"allocation",count:10,page:1}}}},[s("span",{attrs:{slot:"title"},slot:"title"},[e._v("Dashboard")])]):e._e(),e._v(" "),"1"==e.role?s("el-submenu",{attrs:{index:"projectManagement"}},[s("template",{slot:"title"},[s("span",[e._v("Project Management")])]),e._v(" "),s("el-menu-item",{attrs:{index:"projectlist",route:{path:"/projectlist",query:{count:10,page:1}}}},[s("span",{attrs:{slot:"title",id:"projectlist"},slot:"title"},[e._v("Overview")])]),e._v(" "),s("el-menu-item",{attrs:{index:"assignment",route:{path:"/assignment"}}},[s("span",{attrs:{slot:"title",id:"assignment"},slot:"title"},[e._v("Assignment")])])],2):e._e(),e._v(" "),"1"==e.role?s("el-submenu",{attrs:{index:"translationManagement"}},[s("template",{slot:"title"},[s("span",[e._v("Translation Management")])]),e._v(" "),s("el-menu-item",{attrs:{index:"t_overview",route:{path:"/t_overview",query:{count:10,page:1}}}},[s("span",{attrs:{slot:"title",id:"t_overview"},slot:"title"},[e._v("Overview")])]),e._v(" "),s("el-menu-item",{attrs:{index:"translation",route:{path:"/translation",query:{count:10,page:1}}}},[s("span",{attrs:{slot:"title",id:"translation"},slot:"title"},[e._v("Translation")])]),e._v(" "),s("el-menu-item",{attrs:{index:"retranslation",route:{path:"/retranslation",query:{count:10,page:1}}}},[s("span",{attrs:{slot:"title",id:"retranslation"},slot:"title"},[e._v("Retranslation")])]),e._v(" "),s("el-menu-item",{attrs:{index:"t_history",route:{path:"/t_history",query:{count:10,page:1}}}},[s("span",{attrs:{slot:"title",id:"t_history"},slot:"title"},[e._v("History")])])],2):e._e(),e._v(" "),"1"==e.role?s("el-submenu",{attrs:{index:"reviewManagement"}},[s("template",{slot:"title"},[s("span",[e._v("Review Management")])]),e._v(" "),s("el-menu-item",{attrs:{index:"a_overview",route:{path:"/a_overview",query:{count:10,page:1}}}},[s("span",{attrs:{slot:"title",id:"a_overview"},slot:"title"},[e._v("Overview")])]),e._v(" "),s("el-menu-item",{attrs:{index:"review",route:{path:"/review",query:{count:10,page:1}}}},[s("span",{attrs:{slot:"title",id:"review"},slot:"title"},[e._v("Review")])]),e._v(" "),s("el-menu-item",{attrs:{index:"a_history",route:{path:"/a_history",query:{count:10,page:1}}}},[s("span",{attrs:{slot:"title",id:"a_history"},slot:"title"},[e._v("History")])])],2):e._e(),e._v(" "),"1"==e.role?s("el-submenu",{attrs:{index:"viewManagement"}},[s("template",{slot:"title"},[s("span",[e._v("Released Projects")])]),e._v(" "),s("el-menu-item",{attrs:{index:"viewlist",route:{path:"/viewlist",query:{count:10,page:1}}}},[s("span",{attrs:{slot:"title",id:"viewlist"},slot:"title"},[e._v("Overview")])]),e._v(" "),s("el-menu-item",{attrs:{index:"v_history",route:{path:"/v_history",query:{count:10,page:1}}}},[s("span",{attrs:{slot:"title",id:"v_history"},slot:"title"},[e._v("Issues")])])],2):e._e(),e._v(" "),"2"==e.role?s("el-menu-item",{attrs:{index:"userinfo",route:{path:"/userinfo",query:{count:10,page:1}}}},[s("span",{attrs:{slot:"title",id:"userinfo"},slot:"title"},[e._v("User Management")])]):e._e()],1)],1)],1),e._v(" "),s("el-container",[s("el-main",{staticStyle:{"padding-bottom":"100px"},attrs:{id:"main"}},[s("transition",{attrs:{name:"fade",mode:"out-in"}},[s("router-view")],1)],1)],1)],1),e._v(" "),s("el-footer",{attrs:{id:"footer"}},[e._v("Copyright "+e._s((new Date).getFullYear())+" ( Recommend Using "),s("img",{staticStyle:{display:"inline-block",width:"15px",height:"15px","vertical-align":"middle"},attrs:{src:"/images/chrome.jpg"}}),e._v(" Chrome Browser )")]),e._v(" "),s("el-dialog",{attrs:{width:"40%",title:"Profile",visible:e.myProfileOuterVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.myProfileOuterVisible=t}}},[s("p",[s("span",[e._v("Name: ")]),s("span",{staticStyle:{"font-weight":"bold"}},[e._v(e._s(e.personalInfo.name))])]),e._v(" "),s("p",[s("span",[e._v("Email: ")]),s("span",{staticStyle:{"font-weight":"bold"}},[e._v(e._s(e.personalInfo.email))])]),e._v(" "),s("p",[s("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.innerVisible=!0}}},[e._v("Change Password")])],1),e._v(" "),s("el-dialog",{attrs:{width:"40%",title:"Change Password",visible:e.innerVisible,"close-on-click-modal":!1,"append-to-body":""},on:{"update:visible":function(t){e.innerVisible=t}}},[s("el-form",{ref:"modifyPasswordForm",staticClass:"demo-ruleForm",attrs:{model:e.modifyPasswordForm,"status-icon":"",rules:e.passwordRules,"label-width":"180px"}},[s("el-form-item",{attrs:{label:"Old Password",prop:"oldPass"}},[s("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.modifyPasswordForm.oldPass,callback:function(t){e.$set(e.modifyPasswordForm,"oldPass","string"==typeof t?t.trim():t)},expression:"modifyPasswordForm.oldPass"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"New Password",prop:"newPass"}},[s("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.modifyPasswordForm.newPass,callback:function(t){e.$set(e.modifyPasswordForm,"newPass","string"==typeof t?t.trim():t)},expression:"modifyPasswordForm.newPass"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"Repeat New Password",prop:"checkPass"}},[s("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.modifyPasswordForm.checkPass,callback:function(t){e.$set(e.modifyPasswordForm,"checkPass","string"==typeof t?t.trim():t)},expression:"modifyPasswordForm.checkPass"}})],1),e._v(" "),s("el-form-item",[s("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitPassForm("modifyPasswordForm")}}},[e._v("Change")]),e._v(" "),s("el-button",{on:{click:function(t){e.resetPassForm("modifyPasswordForm")}}},[e._v("Reset")])],1)],1)],1),e._v(" "),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(t){e.myProfileOuterVisible=!1}}},[e._v("Close")])],1)],1),e._v(" "),2!=e.role?s("div",{attrs:{id:"taskListCon"}},[s("el-card",{directives:[{name:"show",rawName:"v-show",value:e.taskVisibleFlag,expression:"taskVisibleFlag"}],staticClass:"box-card",staticStyle:{"text-align":"left"}},[s("div",{staticClass:"per_task",on:{click:function(t){e.$router.push("/assignment")}}},[e._v("Unassigned: "),s("b",[e._v(e._s(e.$store.state.taskList.Unassigned_nums))])]),e._v(" "),s("div",{staticClass:"per_task",on:{click:function(t){e.$router.push("/translation?count=10&page=1")}}},[e._v("Untranslated: "),s("b",[e._v(e._s(e.$store.state.taskList.Untranslated_nums))])]),e._v(" "),s("div",{staticClass:"per_task",on:{click:function(t){e.$router.push("/retranslation?count=10&page=1")}}},[e._v("Unretranslated: "),s("b",[e._v(e._s(e.$store.state.taskList.Unretranslated_nums))])]),e._v(" "),s("div",{staticClass:"per_task",on:{click:function(t){e.$router.push("/review?count=10&page=1")}}},[e._v("Unreviewed: "),s("b",[e._v(e._s(e.$store.state.taskList.Approve_nums))])]),e._v(" "),s("div",{staticClass:"per_task",on:{click:function(t){e.$router.push("/dashboard?tab=objection&count=10&page=1")}}},[e._v("Unresolved: "),s("b",[e._v(e._s(e.$store.state.taskList.Conflict_nums))])])]),e._v(" "),s("el-button",{attrs:{round:"",size:"small",type:"warning"},on:{click:function(t){e.taskVisibleFlag=!e.taskVisibleFlag}}},[e._v("My Task"),s("el-badge",{directives:[{name:"show",rawName:"v-show",value:e.$store.state.taskList.Unassigned_nums+e.$store.state.taskList.Conflict_nums+e.$store.state.taskList.Untranslated_nums+e.$store.state.taskList.Unretranslated_nums+e.$store.state.taskList.Approve_nums>0,expression:"$store.state.taskList.Unassigned_nums+$store.state.taskList.Conflict_nums+$store.state.taskList.Untranslated_nums+$store.state.taskList['Unretranslated_nums']+$store.state.taskList.Approve_nums>0"}],attrs:{value:e.$store.state.taskList.Unassigned_nums+e.$store.state.taskList.Conflict_nums+e.$store.state.taskList.Untranslated_nums+e.$store.state.taskList.Unretranslated_nums+e.$store.state.taskList.Approve_nums,max:99}})],1)],1):e._e()],1)},staticRenderFns:[]}}});