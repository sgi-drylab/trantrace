webpackJsonp([15],{Nspw:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={mounted:function(){var e=this;this.$http.post("/api/approve/list",qs.stringify({product_name:this.$route.query.name,key:this.$route.query.key,priority:this.$route.query.priority,deadline:this.$route.query.deadline,status:"Unreviewed",page:this.$route.query.page,count:this.$route.query.count})).then(function(r){e.approvalListTable=r.data.data,e.total=r.data.total})},data:function(){return{searchForm_raw:{product_name:this.$route.query.name||"",key:this.$route.query.key||"",priority:this.$route.query.priority||"",deadline:this.$route.query.deadline||""},searchForm:{product_name:this.$route.query.name||"",key:this.$route.query.key||"",priority:this.$route.query.priority||"",deadline:this.$route.query.deadline||""},loading:!1,sort:[],rules:{},approvalListTable:[],total:0,currentPage:Number(this.$route.query.page)||1,pageSize:Number(this.$route.query.count)||10}},methods:{deadlineHighlight:function(e){var r=e.row;e.rowIndex;return(new Date).valueOf()>new Date(r.deadline.replace(/-/g,"/")).valueOf()?"deadlineOverdueHighlight":""},onSearch:function(){var e=this;this.$refs.approvalTable.clearSort(),this.sort=[],this.currentPage=1;var r={};this.searchForm.product_name&&(r.name=this.searchForm.product_name),this.searchForm.key&&(r.key=this.searchForm.key),this.searchForm.priority&&(r.priority=this.searchForm.priority),this.searchForm.deadline&&(r.deadline=this.searchForm.deadline),this.currentPage&&(r.page=this.currentPage),this.pageSize&&(r.count=this.pageSize),this.$router.push({path:"/review",query:r}),this.searchForm.product_name=this.searchForm_raw.product_name,this.searchForm.key=this.searchForm_raw.key,this.searchForm.priority=this.searchForm_raw.priority,this.searchForm.deadline=this.searchForm_raw.deadline,this.$http.post("/api/approve/list",qs.stringify({product_name:this.searchForm.product_name,key:this.searchForm.key,priority:this.searchForm.priority,deadline:this.searchForm.deadline,status:"Unreviewed",page:this.currentPage,count:this.pageSize})).then(function(r){e.approvalListTable=r.data.data,e.total=r.data.total})},sortChange:function(e){var r=this,t="";"ascending"===e.order&&(t="ASC"),"descending"===e.order&&(t="DESC"),this.sort[0]=e.prop,this.sort[1]=t,this.currentPage=1,this.$http.post("/api/approve/list",qs.stringify(e.prop?{product_name:this.searchForm.product_name,key:this.searchForm.key,priority:this.searchForm.priority,deadline:this.searchForm.deadline,status:"Unreviewed",page:this.currentPage,count:this.pageSize,sort:this.sort}:{product_name:this.searchForm.product_name,key:this.searchForm.key,priority:this.searchForm.priority,deadline:this.searchForm.deadline,status:"Unreviewed",page:this.currentPage,count:this.pageSize})).then(function(e){r.approvalListTable=e.data.data,r.total=e.data.total})},rowDblClick:function(e,r,t){var a={id:e.id};this.searchForm.product_name&&(a.name=this.searchForm.product_name),this.searchForm.key&&(a.key=this.searchForm.key),this.searchForm.priority&&(a.priority=this.searchForm.priority),this.searchForm.deadline&&(a.deadline=this.searchForm.deadline),this.currentPage&&(a.page=this.currentPage),this.pageSize&&(a.count=this.pageSize),this.$router.push({path:"/browreviewitem",query:a})},transItem:function(e){var r={id:e.id};this.searchForm.product_name&&(r.name=this.searchForm.product_name),this.searchForm.key&&(r.key=this.searchForm.key),this.searchForm.priority&&(r.priority=this.searchForm.priority),this.searchForm.deadline&&(r.deadline=this.searchForm.deadline),this.currentPage&&(r.page=this.currentPage),this.pageSize&&(r.count=this.pageSize),this.$router.push({path:"/browreviewitem",query:r})},handleSizeChange:function(e){this.pageSize=e,this.currentPage=1,this.handleCurrentChange(this.currentPage)},handleCurrentChange:function(e){var r=this;this.currentPage=e;var t={};this.searchForm.product_name&&(t.name=this.searchForm.product_name),this.searchForm.key&&(t.key=this.searchForm.key),this.searchForm.priority&&(t.priority=this.searchForm.priority),this.searchForm.deadline&&(t.deadline=this.searchForm.deadline),this.pageSize&&(t.count=this.pageSize),e&&(t.page=e),this.$router.push({path:"/review",query:t}),this.$http.post("/api/approve/list",qs.stringify(this.sort[0]?{product_name:this.searchForm.product_name,key:this.searchForm.key,priority:this.searchForm.priority,deadline:this.searchForm.deadline,status:"Unreviewed",page:e,count:this.pageSize,sort:this.sort}:{product_name:this.searchForm.product_name,key:this.searchForm.key,priority:this.searchForm.priority,deadline:this.searchForm.deadline,status:"Unreviewed",page:e,count:this.pageSize})).then(function(e){r.approvalListTable=e.data.data,r.total=e.data.total})}}}},mnDT:function(e,r,t){(e.exports=t("FZ+f")(!1)).push([e.i,"",""])},szaS:function(e,r,t){var a=t("VU/8")(t("Nspw"),t("tyDn"),!1,function(e){t("v0X1")},"data-v-e63452b2",null);e.exports=a.exports},tyDn:function(e,r){e.exports={render:function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{attrs:{id:"transListMain"}},[t("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[t("el-breadcrumb-item",[e._v("Review")])],1),e._v(" "),t("div",{staticClass:"addSearch clearfix"},[t("div",{attrs:{id:"searchCon"}},[t("el-form",{ref:"searchForm_raw",staticClass:"demo-form-inline",attrs:{inline:!0,model:e.searchForm_raw,rules:e.rules,"label-position":"left","label-width":"120px",size:"small"}},[t("el-form-item",{attrs:{label:"Project Name:"}},[t("el-input",{attrs:{placeholder:"enter project name"},model:{value:e.searchForm_raw.product_name,callback:function(r){e.$set(e.searchForm_raw,"product_name",r)},expression:"searchForm_raw.product_name"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"Keyword:"}},[t("el-input",{attrs:{placeholder:"enter keyword"},model:{value:e.searchForm_raw.key,callback:function(r){e.$set(e.searchForm_raw,"key",r)},expression:"searchForm_raw.key"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"Deadline:"}},[t("el-date-picker",{attrs:{type:"date","default-value":new Date,"value-format":"yyyy-MM-dd",placeholder:"select deadline"},model:{value:e.searchForm_raw.deadline,callback:function(r){e.$set(e.searchForm_raw,"deadline",r)},expression:"searchForm_raw.deadline"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"Priority:"}},[t("el-select",{attrs:{clearable:"",placeholder:"select priority"},model:{value:e.searchForm_raw.priority,callback:function(r){e.$set(e.searchForm_raw,"priority",r)},expression:"searchForm_raw.priority"}},[t("el-option",{attrs:{label:"High",value:"3"}}),e._v(" "),t("el-option",{attrs:{label:"Normal",value:"2"}}),e._v(" "),t("el-option",{attrs:{label:"Low",value:"1"}})],1)],1),e._v(" "),t("el-form-item",[t("el-button",{staticClass:"searchBtn",attrs:{type:"primary"},on:{click:e.onSearch}},[t("i",{staticClass:"el-icon-search"},[e._v("Search")])])],1)],1)],1)]),e._v(" "),t("div",{staticClass:"showTransList"},[t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"approvalTable",staticStyle:{width:"100%"},attrs:{data:e.approvalListTable,"row-class-name":e.deadlineHighlight},on:{"row-dblclick":e.rowDblClick,"sort-change":e.sortChange}},[t("el-table-column",{attrs:{label:"Source",align:"center",type:"expand",width:"75"},scopedSlots:e._u([{key:"default",fn:function(r){return[t("ol",{staticStyle:{"padding-left":"20px"}},e._l(JSON.parse(r.row.translate),function(r,a){return t("li",{key:a,staticStyle:{margin:"10px 0",padding:"5px 0","border-bottom":"1px dashed #ccc"}},[e._v(e._s(Object.keys(r)[0]))])}))]}}])}),e._v(" "),t("el-table-column",{attrs:{prop:"product",label:"Project Name",align:"center",sortable:"custom"}}),e._v(" "),t("el-table-column",{attrs:{prop:"key",label:"Keyword",align:"center",sortable:"custom","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(r){return[t("div",[e._v(e._s(Object.keys(JSON.parse(r.row.key)[0])[0]))])]}}])}),e._v(" "),t("el-table-column",{attrs:{prop:"deadline",label:"Deadline",align:"center",sortable:"custom"},scopedSlots:e._u([{key:"default",fn:function(r){return[t("div",[e._v(e._s(r.row.deadline&&r.row.deadline.split(" ")[1]?r.row.deadline.split(" ")[0]:r.row.deadline))])]}}])}),e._v(" "),t("el-table-column",{attrs:{prop:"priority",label:"Priority",align:"center",sortable:"custom"},scopedSlots:e._u([{key:"default",fn:function(r){return["1"==r.row.priority?t("div",[e._v("Low")]):e._e(),e._v(" "),"2"==r.row.priority?t("div",[e._v("Normal")]):e._e(),e._v(" "),"3"==r.row.priority?t("div",{staticStyle:{color:"red"}},[e._v("High")]):e._e()]}}])}),e._v(" "),t("el-table-column",{attrs:{label:"Operation",align:"center"},scopedSlots:e._u([{key:"default",fn:function(r){return["Untranslated"!==r.row.status?t("el-button",{attrs:{type:"text",size:"medium",title:"Review"},on:{click:function(t){e.transItem(r.row)}}},[e._v("Review")]):e._e()]}}])})],1),e._v(" "),t("el-pagination",{attrs:{background:"","current-page":e.currentPage,"page-sizes":[10,20,50],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"current-change":e.handleCurrentChange,"size-change":e.handleSizeChange}})],1)],1)},staticRenderFns:[]}},v0X1:function(e,r,t){var a=t("mnDT");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);t("rjj0")("33222cb1",a,!0,{})}});