webpackJsonp([0],{AaO7:function(t,e,a){var s=a("s7xp");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);a("rjj0")("e5d68b7c",s,!0,{})},Wg41:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"clearfix",attrs:{id:"userMain"}},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",[t._v("User Management")])],1),t._v(" "),a("div",{staticClass:"addSearch clearfix"},[a("div",{attrs:{id:"searchCon"}},[a("el-form",{ref:"searchForm_raw",staticClass:"demo-form-inline",attrs:{inline:!0,model:t.searchForm_raw,rules:t.rules,"label-position":"left","label-width":"90px",size:"small"},nativeOn:{submit:function(t){t.preventDefault()}}},[a("el-form-item",{attrs:{label:"Email:",prop:"email"}},[a("el-input",{attrs:{placeholder:"enter email"},model:{value:t.searchForm_raw.email,callback:function(e){t.$set(t.searchForm_raw,"email",e)},expression:"searchForm_raw.email"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"User Name:",prop:"name"}},[a("el-input",{attrs:{placeholder:"enter user name"},model:{value:t.searchForm_raw.name,callback:function(e){t.$set(t.searchForm_raw,"name",e)},expression:"searchForm_raw.name"}})],1),t._v(" "),a("el-form-item",[a("el-button",{staticClass:"searchBtn",attrs:{type:"primary"},on:{click:t.onSearch}},[a("i",{staticClass:"el-icon-search"},[t._v("Search")])]),t._v(" "),a("el-button",{attrs:{type:"primary",id:"addUser"},on:{click:t.addUser}},[t._v("New User")])],1)],1)],1)]),t._v(" "),a("div",{staticClass:"showUserInfo"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"userTable",staticStyle:{width:"100%"},attrs:{data:t.userListTable},on:{"sort-change":t.sortChange}},[a("el-table-column",{attrs:{prop:"email",label:"Email",align:"center",sortable:"custom"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"User Name",align:"center",sortable:"custom"}}),t._v(" "),a("el-table-column",{attrs:{prop:"created_at",label:"Creation Time",align:"center",sortable:"custom"}}),t._v(" "),a("el-table-column",{attrs:{prop:"status",label:"Status",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-switch",{attrs:{"active-color":"#41babc"},on:{change:function(a){t.changeSwitch(e.row)}},model:{value:e.row.statusSwitch,callback:function(a){t.$set(e.row,"statusSwitch",a)},expression:"scope.row.statusSwitch"}}),t._v(" "),e.row.statusSwitch?a("span",{staticClass:"themeColor"},[t._v("Active")]):t._e(),t._v(" "),e.row.statusSwitch?t._e():a("span",{staticClass:"red"},[t._v("Inactive")])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"Password",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{staticStyle:{"font-size":"14px"},attrs:{type:"text",title:"reset password"},on:{click:function(a){t.resetPwd(e.row)}}},[t._v("Reset")])]}}])})],1),t._v(" "),a("el-pagination",{attrs:{background:"","current-page":t.currentPage,"page-size":t.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"current-change":t.handleCurrentChange,"size-change":t.handleSizeChange}})],1)],1)},staticRenderFns:[]}},gE0F:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={mounted:function(){var t=this;this.$http.post("/api/User/list",qs.stringify({page:this.currentPage,count:this.pageSize})).then(function(e){e.data.data.forEach(function(e){t.$set(e,"statusSwitch","1"==e.status)}),t.userListTable=e.data.data,t.total=e.data.total})},data:function(){return{searchForm_raw:{email:this.$route.query.email||"",name:this.$route.query.name||""},searchForm:{email:this.$route.query.email||"",name:this.$route.query.name||""},rules:{},loading:!1,sort:[],statusSwitch:!0,userListTable:[],total:0,currentPage:Number(this.$route.query.page)||1,pageSize:Number(this.$route.query.count)||10}},methods:{onSearch:function(){var t=this;this.$refs.userTable.clearSort(),this.sort=[],this.currentPage=1;var e={};this.searchForm.email&&(e.email=this.searchForm.email),this.currentPage&&(e.page=this.currentPage),this.pageSize&&(e.count=this.pageSize),this.$router.push({path:"/userinfo",query:e}),this.searchForm.email=this.searchForm_raw.email,this.searchForm.name=this.searchForm_raw.name,this.$http.post("/api/User/list",qs.stringify({email:this.searchForm.email,name:this.searchForm.name})).then(function(e){e.data.data.forEach(function(e){t.$set(e,"statusSwitch","1"==e.status)}),t.userListTable=e.data.data,t.total=e.data.total})},sortChange:function(t){var e=this,a="";"ascending"===t.order&&(a="ASC"),"descending"===t.order&&(a="DESC"),this.sort[0]=t.prop,this.sort[1]=a,this.currentPage=1,this.$http.post("/api/User/list",qs.stringify(t.prop?{email:this.searchForm.email,name:this.searchForm.name,count:this.pageSize,sort:this.sort}:{email:this.searchForm.email,name:this.searchForm.name,count:this.pageSize})).then(function(t){t.data.data.forEach(function(t){e.$set(t,"statusSwitch","1"==t.status)}),e.userListTable=t.data.data,e.total=t.data.total})},addUser:function(){this.$router.push({path:"/adduser",query:{email:this.searchForm.email}})},changeSwitch:function(t){var e=this;this.$confirm(t.statusSwitch?"Are you sure to open this account?":"Are you sure to shut down this account?",{title:t.statusSwitch?"Open":"Shut Down",confirmButtonText:"Yes",cancelButtonText:"Cancel",type:"warning",showClose:!1}).then(function(){e.$http.post("/api/User/close_open",qs.stringify({uid:t.id,status:t.statusSwitch?"1":"0"})).then(function(t){t.data.success})}).catch(function(){t.statusSwitch=!t.statusSwitch})},resetPwd:function(t){var e=this;this.$confirm("Are you sure to reset password?",{title:"Reset Password",confirmButtonText:"Yes",cancelButtonText:"Cancel",type:"warning",showClose:!1}).then(function(){e.$http.post("/api/User/ChangeUserPwd",qs.stringify({uid:t.id,newpassword:"123456"})).then(function(t){t.data.success&&e.$message({message:"Password has been reset to 123456 successfully.",type:"success"})})})},handleSizeChange:function(t){this.pageSize=t,this.currentPage=1,this.handleCurrentChange(this.currentPage)},handleCurrentChange:function(t){var e=this;this.currentPage=t;var a={};this.searchForm.email&&(a.email=this.searchForm.email),this.pageSize&&(a.count=this.pageSize),t&&(a.page=t),this.$router.push({path:"/userinfo",query:a}),this.$http.post("/api/User/list",qs.stringify(this.sort[0]?{email:this.searchForm.email,name:this.searchForm.name,page:t,count:this.pageSize,sort:this.sort}:{email:this.searchForm.email,name:this.searchForm.name,page:t,count:this.pageSize})).then(function(t){t.data.data.forEach(function(t){e.$set(t,"statusSwitch","1"==t.status)}),e.userListTable=t.data.data,e.total=t.data.total})}}}},s7xp:function(t,e,a){(t.exports=a("FZ+f")(!1)).push([t.i,"",""])},y8dX:function(t,e,a){var s=a("VU/8")(a("gE0F"),a("Wg41"),!1,function(t){a("AaO7")},"data-v-41acd064",null);t.exports=s.exports}});