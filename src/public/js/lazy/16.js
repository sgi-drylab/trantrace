webpackJsonp([16],{MdIi:function(t,e,a){var o=a("rKVl");"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);a("rjj0")("0e60402e",o,!0,{})},oquP:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"clearfix",attrs:{id:"overviewMain"}},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",[t._v("Dashboard")])],1),t._v(" "),a("div",{staticClass:"overviewHeader"},[a("el-card",{staticClass:"box-card",style:"allocation"===t.currentMenu?"background-color:rgba(65,186,188,.2);":"",attrs:{shadow:"allocation"===t.currentMenu?"always":"hover"}},[a("div",{staticClass:"menuCon",on:{click:function(e){t.selectMenu("allocation")}}},[a("span",[a("i",{staticClass:"el-icon-rank",style:"allocation"===t.currentMenu?"opacity:1;":"opacity:0.5;"})]),t._v(" "),a("div",{style:"allocation"===t.currentMenu?"color:#000;":""},[t._v("\n          Assignment\n        ")])])]),t._v(" "),a("el-card",{staticClass:"box-card",style:"translation"===t.currentMenu?"background-color:rgba(65,186,188,.2);":"",attrs:{shadow:"translation"===t.currentMenu?"always":"hover"}},[a("div",{staticClass:"menuCon",on:{click:function(e){t.selectMenu("translation")}}},[a("span",[a("i",{staticClass:"el-icon-edit-outline",style:"translation"===t.currentMenu?"opacity:1;":"opacity:0.5;"})]),t._v(" "),a("div",{style:"translation"===t.currentMenu?"color:#000;":""},[t._v("\n          Translation\n        ")])])]),t._v(" "),a("el-card",{staticClass:"box-card",style:"approval"===t.currentMenu?"background-color:rgba(65,186,188,.2);":"",attrs:{shadow:"approval"===t.currentMenu?"always":"hover"}},[a("div",{staticClass:"menuCon",on:{click:function(e){t.selectMenu("approval")}}},[a("span",[a("i",{staticClass:"el-icon-tickets",style:"approval"===t.currentMenu?"opacity:1;":"opacity:0.5;"})]),t._v(" "),a("div",{style:"approval"===t.currentMenu?"color:#000;":""},[t._v("\n          Review\n        ")])])]),t._v(" "),a("el-card",{staticClass:"box-card",style:"objection"===t.currentMenu?"background-color:rgba(65,186,188,.2);":"",attrs:{shadow:"objection"===t.currentMenu?"always":"hover"}},[a("div",{staticClass:"menuCon",on:{click:function(e){t.selectMenu("objection")}}},[a("span",[a("i",{staticClass:"el-icon-bell",style:"objection"===t.currentMenu?"opacity:1;":"opacity:0.5;"})]),t._v(" "),a("div",{style:"objection"===t.currentMenu?"color:#000;":""},[t._v("\n          Issues\n        ")])])])],1),t._v(" "),a("div",{staticClass:"showUserInfo"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"dashboardTable",staticStyle:{width:"100%"},attrs:{data:t.overviewTable,"row-class-name":t.deadlineHighlight},on:{"sort-change":t.sortChange}},[a("el-table-column",{attrs:{prop:"product",label:"Project Name",align:"center",sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{style:"project"===t.currentMenu?"cursor:pointer;color:#41babc;":"",on:{click:function(a){"project"===t.currentMenu&&t.$router.push("/projectdetail?id="+e.row.id)}}},[t._v(t._s(e.row.product))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"lang",label:"Language",align:"center",sortable:"custom"}}),t._v(" "),a("el-table-column",{attrs:{prop:"deadline",label:"Deadline",align:"center",sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v(t._s(e.row.deadline&&e.row.deadline.split(" ")[1]?e.row.deadline.split(" ")[0]:e.row.deadline))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"priority",label:"Priority",align:"center",sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(e){return["1"==e.row.priority?a("div",[t._v("Low")]):t._e(),t._v(" "),"2"==e.row.priority?a("div",[t._v("Normal")]):t._e(),t._v(" "),"3"==e.row.priority?a("div",{staticStyle:{color:"red"}},[t._v("High")]):t._e()]}}])}),t._v(" "),"allocation"===t.currentMenu?a("el-table-column",{key:"aotaTotal",attrs:{prop:"total_nums",label:"Total",align:"center",sortable:"custom"}}):t._e(),t._v(" "),"allocation"!==t.currentMenu&&"objection"!==t.currentMenu?a("el-table-column",{key:"aotaTotal",attrs:{prop:"total_nums",label:"Total",align:"center",sortable:"custom"}}):t._e(),t._v(" "),"objection"===t.currentMenu?a("el-table-column",{key:"oTotal",attrs:{prop:"total_conflict",label:"Total",align:"center",sortable:"custom"}}):t._e(),t._v(" "),"allocation"===t.currentMenu?a("el-table-column",{key:"assignCompleted",attrs:{prop:"Completed",label:"Completed",align:"center",sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{style:"0.00%"===e.row.completed?"color:red":""},[t._v("\n            "+t._s(e.row.CompletedPercentage)+"\n          ")])]}}])}):t._e(),t._v(" "),"objection"===t.currentMenu?a("el-table-column",{key:"objectCompleted",attrs:{prop:"completed",label:"Completed",align:"center",sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{style:"0.00%"===e.row.CompletedPercentage?"color:red":""},[t._v("\n            "+t._s(e.row.CompletedPercentage)+"\n          ")])]}}])}):t._e(),t._v(" "),"translation"===t.currentMenu?a("el-table-column",{key:"transCompleted",attrs:{prop:"completed",label:"Completed",align:"center",sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{style:"0.00%"===e.row.CompletedPercentage?"color:red":""},[t._v("\n            "+t._s(e.row.CompletedPercentage)+"\n          ")])]}}])}):t._e(),t._v(" "),"approval"===t.currentMenu?a("el-table-column",{key:"approvalCompleted",attrs:{prop:"completed",label:"Completed",align:"center",sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{style:"0.00%"===e.row.CompletedPercentage?"color:red":""},[t._v("\n            "+t._s(e.row.CompletedPercentage)+"\n          ")])]}}])}):t._e(),t._v(" "),"allocation"===t.currentMenu?a("el-table-column",{key:"aUnssign",attrs:{prop:"Unassigned_nums",label:"Not Finished",align:"center",sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticStyle:{cursor:"pointer",color:"#41babc"},on:{click:function(a){t.$router.push("/assignment?id="+e.row.id+"&name="+e.row.product)}}},[t._v("Assignment: "+t._s(e.row.Unassigned_nums))])]}}])}):t._e(),t._v(" "),"objection"===t.currentMenu?a("el-table-column",{key:"oUnconflict",attrs:{prop:"task_conflict",label:"Not Finished",align:"center",sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticStyle:{cursor:"pointer",color:"#41babc"},on:{click:function(a){t.$router.push("/v_history?name="+e.row.product+"&status=0&count=10&page=1")}}},[t._v("Issues: "+t._s(e.row.task_conflict))])]}}])}):t._e(),t._v(" "),"translation"===t.currentMenu?a("el-table-column",{key:"tUntranslate",attrs:{prop:"not_finished",label:"Not Finished",align:"center",sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticStyle:{cursor:"pointer",color:"#41babc"},on:{click:function(a){t.$router.push("/translation?name="+e.row.product+"&count=10&page=1")}}},[t._v("Translation: "+t._s(e.row.Untranslated))]),t._v(" "),a("div",{staticStyle:{cursor:"pointer",color:"#41babc"},on:{click:function(a){t.$router.push("/retranslation?name="+e.row.product+"&count=10&page=1")}}},[t._v("Retranslation: "+t._s(e.row.Unretranslated))])]}}])}):t._e(),t._v(" "),"approval"===t.currentMenu?a("el-table-column",{key:"aUnreviewed",attrs:{prop:"not_finished",label:"Not Finished",align:"center",sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticStyle:{cursor:"pointer",color:"#41babc"},on:{click:function(a){t.$router.push("/review?name="+e.row.product+"&count=10&page=1")}}},[t._v("Review: "+t._s(e.row.Unreviewed))])]}}])}):t._e()],1),t._v(" "),a("el-pagination",{attrs:{background:"","current-page":t.currentPage,"page-size":t.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"current-change":t.handleCurrentChange,"size-change":t.handleSizeChange}})],1)],1)},staticRenderFns:[]}},rKVl:function(t,e,a){(t.exports=a("FZ+f")(!1)).push([t.i,"",""])},uubw:function(t,e,a){var o=a("VU/8")(a("xwYl"),a("oquP"),!1,function(t){a("MdIi")},"data-v-110fa2a4",null);t.exports=o.exports},xwYl:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={mounted:function(){this.$route.query.tab?this.selectMenu(this.$route.query.tab):this.selectMenu("allocation")},data:function(){return{currentMenu:"allocation",sort:[],loading:!1,overviewTable:[],total:0,currentPage:1,pageSize:10}},watch:{"$route.query":{handler:function(t,e){t.tab!==e.tab&&this.selectMenu(t.tab)},deep:!0}},methods:{deadlineHighlight:function(t){var e=t.row;t.rowIndex;return(new Date).valueOf()>new Date(e.deadline.replace(/-/g,"/")).valueOf()&&"100.00%"!==e.CompletedPercentage?"deadlineOverdueHighlight":""},selectMenu:function(t){var e=this;switch(this.$refs.dashboardTable.clearSort(),this.sort=[],this.currentMenu=t,this.currentPage=1,t){case"allocation":this.$router.push("/dashboard?tab=allocation"),this.$http.post("/api/product/list",qs.stringify({is_static:1})).then(function(t){t.data.result.data.forEach(function(t){e.$set(t,"CompletedPercentage",e.$formatPercentage(100*t.Completed)+"%")}),e.overviewTable=t.data.result.data,e.total=t.data.result.total});break;case"objection":this.$router.push("/dashboard?tab=objection"),this.$http.post("/api/Statistic/Products_Conflict").then(function(t){t.data.result.data.forEach(function(t){e.$set(t,"CompletedPercentage",e.$formatPercentage(100*t.completed)+"%")}),e.overviewTable=t.data.result.data,e.total=t.data.result.total});break;case"translation":this.$router.push("/dashboard?tab=translation"),this.$http.post("/api/Statistic/Accout_list_p",qs.stringify({Role:"translator",page:this.currentPage,count:this.pageSize})).then(function(t){t.data.result.data.forEach(function(t){e.$set(t,"CompletedPercentage",e.$formatPercentage(100*t.completed)+"%"),e.$set(t,"total_nums",t.Qualified+t.Unretranslated+t.Unreviewed+t.Untranslated)}),e.overviewTable=t.data.result.data,e.total=t.data.result.total});break;case"approval":this.$router.push("/dashboard?tab=approval"),this.$http.post("/api/Statistic/Accout_list_p",qs.stringify({Role:"reviewer",page:this.currentPage,count:this.pageSize})).then(function(t){t.data.result.data.forEach(function(t){e.$set(t,"CompletedPercentage",e.$formatPercentage(100*t.completed)+"%"),e.$set(t,"total_nums",t.Qualified+t.Unreviewed)}),e.overviewTable=t.data.result.data,e.total=t.data.result.total})}},sortChange:function(t){var e=this,a="";switch("ascending"===t.order&&(a="ASC"),"descending"===t.order&&(a="DESC"),this.sort[0]=t.prop,this.sort[1]=a,this.currentPage=1,this.currentMenu){case"allocation":this.$router.push("/dashboard?tab=allocation"),this.$http.post("/api/product/list",qs.stringify(t.prop?{is_static:1,count:this.pageSize,sort:this.sort}:{is_static:1,count:this.pageSize})).then(function(t){t.data.result.data.forEach(function(t){e.$set(t,"CompletedPercentage",e.$formatPercentage(100*t.Completed)+"%")}),e.overviewTable=t.data.result.data,e.total=t.data.result.total});break;case"objection":this.$router.push("/dashboard?tab=objection"),this.$http.post("/api/Statistic/Products_Conflict",qs.stringify(t.prop?{count:this.pageSize,sort:this.sort}:{count:this.pageSize})).then(function(t){t.data.result.data.forEach(function(t){e.$set(t,"CompletedPercentage",e.$formatPercentage(100*t.completed)+"%")}),e.overviewTable=t.data.result.data,e.total=t.data.result.total});break;case"translation":this.$router.push("/dashboard?tab=translation"),this.$http.post("/api/Statistic/Accout_list_p",qs.stringify(t.prop?{Role:"translator",count:this.pageSize,sort:this.sort}:{Role:"translator",count:this.pageSize})).then(function(t){t.data.result.data.forEach(function(t){e.$set(t,"CompletedPercentage",e.$formatPercentage(100*t.completed)+"%"),e.$set(t,"total_nums",t.Qualified+t.Unretranslated+t.Unreviewed+t.Untranslated)}),e.overviewTable=t.data.result.data,e.total=t.data.result.total});break;case"approval":this.$router.push("/dashboard?tab=approval"),this.$http.post("/api/Statistic/Accout_list_p",qs.stringify(t.prop?{Role:"reviewer",count:this.pageSize,sort:this.sort}:{Role:"reviewer",count:this.pageSize})).then(function(t){t.data.result.data.forEach(function(t){e.$set(t,"CompletedPercentage",e.$formatPercentage(100*t.completed)+"%"),e.$set(t,"total_nums",t.Qualified+t.Unreviewed)}),e.overviewTable=t.data.result.data,e.total=t.data.result.total})}},handleSizeChange:function(t){this.pageSize=t,this.currentPage=1,this.handleCurrentChange(this.currentPage)},handleCurrentChange:function(t){var e=this;this.currentPage=t;var a={};switch(this.currentMenu&&(a.tab=this.currentMenu),t&&(a.page=t),this.pageSize&&(a.count=this.pageSize),this.$router.push({path:"/dashboard",query:a}),this.currentMenu){case"allocation":this.$http.post("/api/product/list",qs.stringify(this.sort[0]?{is_static:1,page:t,count:this.pageSize,sort:this.sort}:{is_static:1,page:t,count:this.pageSize})).then(function(t){t.data.result.data.forEach(function(t){e.$set(t,"CompletedPercentage",e.$formatPercentage(100*t.Completed)+"%")}),e.overviewTable=t.data.result.data,e.total=t.data.result.total});break;case"objection":this.$http.post("/api/Statistic/Products_Conflict",qs.stringify(this.sort[0]?{page:t,count:this.pageSize,sort:this.sort}:{page:t,count:this.pageSize})).then(function(t){t.data.result.data.forEach(function(t){e.$set(t,"CompletedPercentage",e.$formatPercentage(100*t.completed)+"%")}),e.overviewTable=t.data.result.data,e.total=t.data.result.total});break;case"translation":this.$http.post("/api/Statistic/Accout_list_p",qs.stringify(this.sort[0]?{Role:"translator",page:t,count:this.pageSize,sort:this.sort}:{Role:"translator",page:t,count:this.pageSize})).then(function(t){t.data.result.data.forEach(function(t){e.$set(t,"CompletedPercentage",e.$formatPercentage(100*t.completed)+"%"),e.$set(t,"total_nums",t.Error+t.Qualified+t.Unretranslated+t.Unreviewed+t.Untranslated)}),e.overviewTable=t.data.result.data,e.total=t.data.result.total});break;case"approval":this.$http.post("/api/Statistic/Accout_list_p",qs.stringify(this.sort[0]?{Role:"reviewer",page:t,count:this.pageSize,sort:this.sort}:{Role:"reviewer",page:t,count:this.pageSize})).then(function(t){t.data.result.data.forEach(function(t){e.$set(t,"CompletedPercentage",e.$formatPercentage(100*t.completed)+"%"),e.$set(t,"total_nums",t.Qualified+t.Unreviewed)}),e.overviewTable=t.data.result.data,e.total=t.data.result.total})}}}}}});